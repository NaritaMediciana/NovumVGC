focus_tree = {
	id = EST
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = EST
		}
	}
	default = no

	continuous_focus_position = { x = 900 y = 1600 }

	shared_focus = LLE_baltic_tiger

###################
##### POLITICS ####
##################

	focus = {
		id = EST_remove_bronze_soldier
		icon = EST_bronze_soldier
		cost = 5
		x = 2
		y = 5

		completion_reward = {
			add_stability = -0.05
			EST_bop_medium_decrease_effect = yes
			effect_tooltip = {
				SOV = {
					add_opinion_modifier = {
						target = EST
						modifier = est_dishonored_memorials
					}
				}
			}
			hidden_effect = {
				SOV = { country_event = estonia.2 }
			}
		}
	}

	focus = {
		id = EST_counterintelligence_measures
		icon = GFX_goal_generic_intelligence_exchange
		cost = 5
		x = 2
		y = 4

		completion_reward = {
			IF = {
				limit = {
					has_dlc = "La Resistance"
					has_intelligence_agency = no
				}
				create_intelligence_agency = { 
					name = "Kaitsepolitseiamet"
					icon = GFX_intelligence_agency_logo_est
				}
				upgrade_intelligence_agency = upgrade_passive_defense 
			}
			else_if = {
				limit = {
					has_dlc = "La Resistance"
					has_intelligence_agency = yes
				}
				upgrade_intelligence_agency = upgrade_passive_defense
				gain_random_agency_upgrade = yes
			}
			add_advisor_role = {
				character = EST_aleksander_toots
				advisor = {
					slot = political_advisor
					cost = 50
					idea_token = EST_aleksander_toots
					traits = {
						head_of_intelligence
					}
				}
			}
			EST_bop_very_low_decrease_effect = yes
		}
	}

#################
#### ECONOMY ####
#################

	focus = {
			id = EST_dissolve_eea
			icon = GFX_focus_generic_modernize_industry
			cost = 5
			x = 15
			y = 0

			available = {
				has_country_flag = EST_tallinna_vesi_privatized
				has_country_flag = EST_eesti_raudtee_privatized
			}

			completion_reward = {
				remove_ideas = EST_eea_idea
				custom_effect_tooltip = est_privatisation_tt
			}
		}

		focus = {
			id = EST_develop_tallinn
			icon = GFX_focus_EST_tallinn
			cost = 5
			x = 17
			y = 1

			available = {
			}

			mutually_exclusive = { focus = EST_develop_countryside }

			completion_reward = {
				13 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
				}
				EST_bop_medium_decrease_effect = yes
			}
		}
		focus = {
			id = EST_modernize_port
			icon = GFX_focus_POL_develop_polish_shipbuilding
			cost = 5
			x = 17
			y = 2

			available = {
			}

			prerequisite = {
				focus = EST_develop_tallinn
			}

			completion_reward = {
				13 = {
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						province = 3152
						level = 2
						instant_build = yes
					}
				}
			}
		}
		focus = {
			id = EST_uelemiste_city
			icon = GFX_goal_generic_construct_civ_factory
			cost = 5
			x = 15
			y = 2

			available = {
			}

			prerequisite = {
				focus = EST_develop_tallinn
			}

			completion_reward = {
				13 = {
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
				}
				add_tech_bonus = {
					bonus = 0.5
					uses = 1
					category = industry
				}
			}
		}
		focus = {
			id = EST_develop_countryside
			icon = GFX_focus_generic_farmland
			cost = 5
			x = 19
			y = 1

			available = {
			}

			mutually_exclusive = { focus = EST_develop_tallinn }

			completion_reward = {
				840 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
				191 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
				EST_bop_medium_increase_effect = yes
			}
		}
		
		focus = {
			id = EST_develop_saaremaa
			icon = EST_develop_saaremaa
			cost = 5
			x = 19
			y = 2

			available = {
				has_war = no
			}

			prerequisite = { focus = EST_develop_countryside }

			completion_reward = {
				if = {
					limit = { NOT = { has_country_flag = EST_second_develop_saameraa } }
					13 = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				add_offsite_building = { type = industrial_complex level = 2 }
				custom_effect_tooltip = EST_saameraa_tt
				set_country_flag = EST_tourism_improved
			}
		}
		focus = {
			id = EST_move_capital
			icon = GFX_goal_generic_construct_civilian
			cost = 5
			x = 21
			y = 2

			available = {
			}

			prerequisite = { focus = EST_develop_countryside }

			completion_reward = {
				add_stability = -0.05
				13 = {
					remove_building = {
						type = industrial_complex
						level = 1
					}
					add_manpower = -15000
				}
				191 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_manpower = 15000
				}
				set_capital = {state = 191 }
			}
		}

##############
#### ARMY ####
##############

	focus = {
		id = EST_integrate_naiskodukaitse
		icon = EST_naiskodukaitse
		cost = 5
		x = 5
		y = 0

		completion_reward = {
			add_stability = 0.05
			add_war_support = 0.05
			swap_ideas = {
				remove_idea = EST_kaitseliit
				add_idea = EST_kaitseliit_1
			}
			add_corps_commander_role = {
				Character = EST_Airi_Tooming
				skill = 1
				attack_skill = 1
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 1
			}
			add_corps_commander_role = {
				Character = EST_dagmar_mattiisen
				skill = 1
				attack_skill = 1
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 1
			}
		}
	}
	focus = {
		id = EST_support_command
		icon = GFX_focus_generic_truck
		cost = 5
		x = 3
		y = 1

		completion_reward = {
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = 250
				variant_name = "MAN KAT1"
			}
			add_tech_bonus = {
				name = EST_motorized_logistics
				bonus = 0.5
				uses = 2
				category = hospital_tech
				category = logistics_tech
			}
		}
	}
	focus = {
		id = EST_open_Kkskpoluegoon
		icon = estonia_training
		cost = 5
		x = 4
		y = 2

		completion_reward = {
			army_experience = 15
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			13 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = EST_Kevadtorm
		icon = GFX_focus_NORDIC_com_selector_army
		cost = 10
		x = 4
		y = 3

		prerequisite = { focus = EST_open_Kkskpoluegoon }

		completion_reward = {
			add_political_power = 50
			add_war_support = 0.05
			army_experience = 5
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			random_unit_leader = { gain_xp = 25 }
			random_unit_leader = { gain_xp = 25 }
		}
	}
	focus = {
		id = EST_defense_investment_center
		icon = GFX_focus_generic_combined_arms
		cost = 5
		x = 3
		y = 0

		completion_reward = {
			every_military_industrial_organization = {
				add_mio_funds = 500
			}
		}
	}
	focus = {
		id = EST_expand_aviation_academy
		icon = GFX_goal_generic_air_doctrine
		cost = 5
		x = 7
		y = 0

		mutually_exclusive = { focus = EST_expand_naval_academy }

		completion_reward = {
			air_experience = 10
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
	}
	focus = {
		id = EST_expand_naval_academy
		icon = GFX_focus_generic_naval_discipline
		cost = 5
		x = 9
		y = 0

		mutually_exclusive = { focus = EST_expand_aviation_academy }

		completion_reward = {
			navy_experience = 10
			add_advisor_role = {
				character = EST_tarmo_kouts
				advisor = {
					slot = navy_chief
					cost = 50
					idea_token = EST_tarmo_kouts
					traits = {
						navy_chief_reform_1
					}
				}
			}
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
			### possible: add leader skill
		}
	}
	focus = {
		id = EST_edia
		icon = GFX_goal_generic_defence
		cost = 5
		x = 8
		y = 1

		prerequisite = { focus = EST_expand_aviation_academy focus = EST_expand_naval_academy }

		available = {
			threat > 0.15
		}

		completion_reward = {
			add_mio_policy_cost = {
				policy = my_policy
				value = -25
			}
		}
	}
	focus = {
		id = EST_refurbish_paldiski
		icon = GFX_goal_generic_navy_cruiser
		cost = 10
		x = 11
		y = 1

		prerequisite = { focus = EST_expand_naval_academy }

		completion_reward = {
			13 = {
				add_building_construction = {
					type = naval_base
					province = 3152
					level = 3
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = EST_develop_aemari_air_base
		icon = GFX_goal_generic_build_airforce
		cost = 10
		x = 5
		y = 1

		prerequisite = { focus = EST_expand_aviation_academy }

		completion_reward = {
			13 = {
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
		}
	}
	focus = {
		id = EST_invist_blrt
		icon = GFX_goal_generic_construct_naval_dockyard
		cost = 5
		x = 10
		y = 2

		prerequisite = { focus = EST_expand_naval_academy }
		prerequisite = { focus = EST_edia }

		completion_reward = {
			if = {
				limit = { has_country_flag = noblessner_gone_flg }
				13 = {
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
				}
			}
			else = {
				13 = {
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					
				}
			}
			mio:EST_blrt_organization = {
				add_mio_funds = 1500
			}
			
		}
	}
	focus = {
		id = EST_threod_systems
		icon = GFX_focus_generic_aircraft_production
		cost = 5
		x = 6
		y = 2

		prerequisite = { focus = EST_expand_aviation_academy }
		prerequisite = { focus = EST_edia }

		completion_reward = {
			
			
		}
	}
	focus = {
		id = EST_encourage_small_arms
		icon = GFX_focus_generic_reorient_production
		cost = 5
		x = 8
		y = 2

		prerequisite = { focus = EST_edia }

		completion_reward = {
			custom_effect_tooltip = est_unlock_mio_tt
			show_mio_tooltip = EST_nord_arms_organization
			mio:EST_nord_arms_organization = {
			add_mio_funds = 1500
			}
			13 = {
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}

	focus = {
		id = EST_defence_industrial_park
		icon = GFX_goal_generic_construct_mil_factory
		cost = 10
		x = 8
		y = 3

		prerequisite = { focus = EST_encourage_small_arms }

		available = {
			threat > 0.15
		}

		completion_reward = {
			13 = {
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}
		}
	}

##############
#### SETO ####
##############

	focus = {
		id = EST_revive_seto_culture
		icon = GFX_focus_CHL_mapuche_reconcilliation_campaigns_export
		cost = 5
		x = 4
		y = 1
		relative_position_id = EST_move_capital

		prerequisite = { focus = EST_move_capital }

		completion_reward = {
			add_popularity = {
				ideology = islamist
				popularity = 0.02
			}
			add_advisor_role = {
				character = EST_rhine_jaervelill
				advisor = {
					slot = political_advisor
					cost = 50
					idea_token = EST_rhine_jaervelill
					traits = {
						EST_seto_promoter
					}
				}
			}
			add_ideas = estonia_seto_propaganda
		}
	}

	focus = {
		id = EST_establish_seto_congress
		icon = GFX_focus_ETH_re-convene_the_parliament
		cost = 5
		x = -1
		y = 1
		relative_position_id = EST_revive_seto_culture

		prerequisite = { focus = EST_revive_seto_culture }

		available = { islamist > 0.15 }

		completion_reward = {
		}
	}

	focus = {
		id = EST_elderly_council
		icon = GFX_focus_BUL_form_a_regency_council
		cost = 5
		x = -1
		y = 2
		relative_position_id = EST_revive_seto_culture

		prerequisite = { focus = EST_establish_seto_congress }

		available = { islamist > 0.3 }

		completion_reward = {
		}
	}

	focus = {
		id = EST_foster_seto_leelo
		icon = GFX_focus_ARG_establish_the_free_association
		cost = 5
		x = 1
		y = 1
		relative_position_id = EST_revive_seto_culture

		prerequisite = { focus = EST_revive_seto_culture }

		completion_reward = {
			add_popularity = {
				ideology = islamist
				popularity = 0.05
			}
			swap_ideas = {
				remove_idea = estonia_seto_propaganda
				add_idea = estonia_seto_propaganda_1
			}
		}
	}

	focus = {
		id = EST_boost_setomaa
		icon = GFX_goal_generic_propaganda
		cost = 5
		x = 1
		y = 2
		relative_position_id = EST_revive_seto_culture

		prerequisite = { focus = EST_foster_seto_leelo }

		completion_reward = {
			add_popularity = {
				ideology = islamist
				popularity = 0.1
			}
			swap_ideas = {
				remove_idea = estonia_seto_propaganda_1
				add_idea = estonia_seto_propaganda_2
			}
		}
	}

	focus = {
		id = EST_elect_ulebtsootska
		icon = GFX_focus_hun_elect_a_king
		cost = 5
		x = 0
		y = 3
		relative_position_id = EST_revive_seto_culture

		prerequisite = { focus = EST_boost_setomaa }
		prerequisite = { focus = EST_elderly_council }

		completion_reward = {
			add_stability = 0.05
			custom_effect_tooltip = EST_elect_king_tt
			hidden_effect = {
				country_event = nvv_estonia.5
			}
			remove_ideas = estonia_seto_propaganda_2
		}
	}

	focus = {
		id = EST_proclaim_setomaa_kingdom
		icon = GFX_focus_BRA_constitutional_monarchy
		cost = 10
		x = 0
		y = 4
		relative_position_id = EST_revive_seto_culture

		prerequisite = { focus = EST_elect_ulebtsootska }

		available = { islamist > 0.5 }

		completion_reward = {
			add_stability = 0.1
			set_cosmetic_tag = EST_setomaa
			set_politics = {
				ruling_party = islamist
				elections_allowed = no
				last_election = "2000.01.01"
				election_frequency = 48
				long_name = EST_seto_long
				name = EST_seto_short
			}
		}
	}

	focus = {
		id = EST_retake_pskovo_pechersky_monastery
		icon = GFX_focus_SOV_third_rome
		cost = 5
		x = 0
		y = 5
		relative_position_id = EST_revive_seto_culture

		prerequisite = { focus = EST_proclaim_setomaa_kingdom }

		completion_reward = {
			add_war_support = 0.1
			add_manpower = 3000
			add_state_claim = 209
			add_corps_commander_role = {
				Character = EST_Sulo_Nurmeots
				skill = 1
				attack_skill = 1
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 1
			}
		}
	}

	focus = {
		id = EST_king_peko
		icon = GFX_focus_ETH_the-italo_ethiopian_empire
		cost = 5
		x = 0
		y = 6
		relative_position_id = EST_revive_seto_culture

		prerequisite = { focus = EST_retake_pskovo_pechersky_monastery }

		available = {
			owns_state = 209
		}

		completion_reward = {
			add_state_core = 209
		}
	}

}
