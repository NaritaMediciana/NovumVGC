
PRK_economic = {

	PRK_economic_debug = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			always = yes
		}

		visible = {
			is_debug = yes #DEBUG
		}

		cost = 0
		fire_only_once = no

		priority = 10
				
		complete_effect = {
			custom_effect_tooltip = DEBUG
			add_political_power = 9999 #DECISION DEBUG
		}

		ai_will_do = {
			factor = 0
		}
	}
	
	
	PRK_ask_for_aid_from_korea = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			NOT= { has_war_with = KOR }
		}

		remove_trigger = {
			has_war_with = KOR
		}
		
		visible = {
			country_exists = KOR
		}

		cost = 15
		days_re_enable = 360
		
		fire_only_once = no

		complete_effect = {
			PRC = { country_event = { id = north_korea.9 hours = 6 } }
		}

		ai_will_do = {
			factor = 50
			modifier = {
				check_variable = { GetDPRKDollarPoint > 4 }
				add = 0
			}
		}
	}
	
	
	PRK_ask_for_aid_from_china = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			NOT= { has_war_with = PRC }
		}

		remove_trigger = {
			has_war_with = PRC
		}
		
		visible = {
			country_exists = PRC
		}

		cost = 15
		days_re_enable = 360
		
		fire_only_once = no

		complete_effect = {
			KOR = { country_event = { id = north_korea.9 hours = 6 } }
		}

		ai_will_do = {
			factor = 50
			modifier = {
				check_variable = { GetDPRKDollarPoint > 4 }
				add = 0
			}
		}
	}
	
	#PRK_exploiting_the_people = {
	#	icon = generic_agreement

		#allowed = { always = yes }
		
	#	available = {
	#		always = yes
	#	}

	#	visible = {
	#	}

	#	cost = 0
	#	fire_only_once = no

	#	complete_effect = {
	#		custom_effect_tooltip = DEBUG
	#	}

	#	ai_will_do = {
	#		factor = 0
	#	}
	#}
	
	PRK_dispatch_of_workers_abroad = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			has_war = no
			NOT = {
			has_decision = PRK_more_harder_dispatch_of_workers_abroad
			}
		}

		visible = {
		}

		cost = 30
		fire_only_once = no

		days_remove = 150
		days_re_enable = 30
		
		complete_effect = {
			set_country_flag = PRK_already_dollars_flag
		}
		
		remove_effect = {
			ROOT = { add_to_variable = { var = GetDPRKDollarPoint value = 1 } }
			clr_country_flag = PRK_already_dollars_flag
			custom_effect_tooltip = getdprkdollars_1_tt
		}

		ai_will_do = {
			base = 10
			
			modifier = {
				check_variable = { GetDPRKDollarPoint < 1 }
				add = 75
			}
			modifier = {
				check_variable = { GetDPRKDollarPoint < 2 }
				add = 20
			}
			modifier = {
				check_variable = { GetDPRKDollarPoint > 3 }
				add = 0.5
			}
			modifier = {
				check_variable = { GetDPRKDollarPoint > 4 }
				add = 0
			}
			modifier = {
				has_political_power < 50
				factor = 0
			}
		}
	}
	
	PRK_more_harder_dispatch_of_workers_abroad = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			has_manpower > 999
			has_war = no
			NOT = {
			has_decision = PRK_dispatch_of_workers_abroad
			}
		}

		visible = {
			has_completed_focus = prk_export_of_overseas_workers
		}

		cost = 30
		fire_only_once = no

		days_remove = 90
		days_re_enable = 30
		
		complete_effect = {
			add_manpower = -1000
			set_country_flag = PRK_already_dollars_flag
		}
		
		remove_effect = {
			ROOT = { add_to_variable = { var = GetDPRKDollarPoint value = 1 } }
			clr_country_flag = PRK_already_dollars_flag
			custom_effect_tooltip = getdprkdollars_1_tt
		}

		ai_will_do = {
			base = 10
			
			modifier = {
				check_variable = { GetDPRKDollarPoint < 1 }
				add = 75
			}
			modifier = {
				check_variable = { GetDPRKDollarPoint < 2 }
				add = 20
			}
			modifier = {
				check_variable = { GetDPRKDollarPoint > 3 }
				add = 0.5
			}
			modifier = {
				check_variable = { GetDPRKDollarPoint > 4 }
				add = 0
			}
			modifier = {
				has_political_power < 50
				factor = 0
			}
		}
	}
	
	PRK_pyongyang_tourism_project = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			has_war = no
		}

		visible = {
			has_completed_focus = prk_tourism_promotion
		}

		cost = 10
		fire_only_once = no

		days_remove = 210
		days_re_enable = 15
		
		complete_effect = {
		}
		
		remove_effect = {
			ROOT = { add_to_variable = { var = GetDPRKDollarPoint value = 1 } }
			custom_effect_tooltip = getdprkdollars_1_tt
		}

		ai_will_do = {
			base = 10
			
			modifier = {
				check_variable = { GetDPRKDollarPoint < 1 }
				add = 75
			}
			modifier = {
				check_variable = { GetDPRKDollarPoint < 2 }
				add = 20
			}
			modifier = {
				check_variable = { GetDPRKDollarPoint > 3 }
				add = 0.5
			}
			modifier = {
				check_variable = { GetDPRKDollarPoint > 4 }
				add = 0
			}
		}
	}
	
	PRK_making_anime = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			has_war = no
		}

		visible = {
			has_completed_focus = prk_north_korea_anime
		}

		cost = 15
		fire_only_once = no

		days_remove = 30
		days_re_enable = 365 #One Year
		
		complete_effect = {
		}
		
		remove_effect = {
			ROOT = { add_to_variable = { var = GetDPRKDollarPoint value = 2 } }
			custom_effect_tooltip = getdprkdollars_2_tt
		}

		ai_will_do = {
			base = 10
			
			modifier = {
				check_variable = { GetDPRKDollarPoint < 1 }
				add = 75
			}
			modifier = {
				check_variable = { GetDPRKDollarPoint < 2 }
				add = 20
			}
			modifier = {
				check_variable = { GetDPRKDollarPoint > 3 }
				add = 0.5
			}
			modifier = {
				check_variable = { GetDPRKDollarPoint > 4 }
				add = 0
			}
		}
	}
	
	PRK_railway_maintenance = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			every_owned_state = {
				#limit = {
					is_controlled_by = ROOT
					infrastructure < 5
				#}
			}
		}

		visible = {
		}

		custom_cost_trigger = {
			check_variable = { GetDPRKDollarPoint > 1 }
		}

		custom_cost_text = DPRKDollor_Cost_2
		
		fire_only_once = no

		days_remove = 30
		
		complete_effect = {
			ROOT = { add_to_variable = { var = GetDPRKDollarPoint value = -2 } }
		}
		
		remove_effect = {
			random_owned_state = {
				if = {
					limit = {
						is_controlled_by = ROOT
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	PRK_primitive_machine_upgrade = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			industrial_complex < 15
		}

		visible = {
		}

		custom_cost_trigger = {
			check_variable = { GetDPRKDollarPoint > 1 }
		}

		custom_cost_text = DPRKDollor_Cost_2
		
		fire_only_once = no

		days_remove = 30
		
		complete_effect = {
			ROOT = { add_to_variable = { var = GetDPRKDollarPoint value = -2 } }
		}
		
		remove_effect = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	
	PRK_planting_trees = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			has_stability < 0.5
			OR = {
				has_government = communist
				
			}
		}

		visible = {
		}

		custom_cost_trigger = {
			check_variable = { GetDPRKDollarPoint > 1 }
		}

		custom_cost_text = DPRKDollor_Cost_2
		
		fire_only_once = no

		days_remove = 30
		
		complete_effect = {
			ROOT = { add_to_variable = { var = GetDPRKDollarPoint value = -2 } }
			
		}
		modifier = {
			stability_weekly = 0.005
		}
		remove_effect = {
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_stability < 0.2
			}
		}
	}
	
	PRK_paying_off_debt = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			NOT = { has_country_leader_with_trait = kim_jong_ils_puppet } #Kim Yong-nam don't use
		}

		visible = {
			OR = {
				has_idea = PRK_national_bankruptcy_5
				has_idea = PRK_national_bankruptcy_4
				has_idea = PRK_national_bankruptcy_3
				has_idea = PRK_national_bankruptcy_2
				has_idea = PRK_national_bankruptcy_1
			}
		}

		custom_cost_trigger = {
			check_variable = { GetDPRKDollarPoint > 0 }
		}

		custom_cost_text = DPRKDollor_Cost_1
		
		fire_only_once = no

		days_remove = 60
		days_re_enable = 30
		
		complete_effect = {
			ROOT = { add_to_variable = { var = GetDPRKDollarPoint value = -1 } }
		}
		
		remove_effect = {
			custom_effect_tooltip = PRK_economic_reform_tt
			PRK_national_bankruptcy_down = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				add = -1
				has_stability < 0.2
			}
		}
	}
	
	PRK_create_tax_system = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			has_idea = PRK_economy_tax_zero
			NOT = { has_country_leader_with_trait = kim_jong_ils_puppet } #Kim Yong-nam don't use
		}

		visible = {
		}

		custom_cost_trigger = {
			check_variable = { GetDPRKDollarPoint > 2 }
		}

		custom_cost_text = DPRKDollor_Cost_3
		
		fire_only_once = yes

		days_remove = 120
		
		complete_effect = {
			ROOT = { add_to_variable = { var = GetDPRKDollarPoint value = -3 } }
		}
		
		remove_effect = {
			custom_effect_tooltip = PRK_economic_reform_tt
			add_to_variable = { var = GetDPRKEconomicReform value = 1 }
			swap_ideas = {
				remove_idea = PRK_economy_tax_zero
				add_idea = economy_tax_moderate
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	PRK_establish_monetary_system = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			NOT = { has_country_leader_with_trait = kim_jong_ils_puppet } #Kim Yong-nam don't use
		}

		visible = {
		}

		custom_cost_trigger = {
			check_variable = { GetDPRKDollarPoint > 2 }
		}

		custom_cost_text = DPRKDollor_Cost_3
		
		fire_only_once = yes

		days_remove = 120
		
		complete_effect = {
			ROOT = { add_to_variable = { var = GetDPRKDollarPoint value = -3 } }
		}
		
		remove_effect = {
			custom_effect_tooltip = PRK_economic_reform_tt
			add_to_variable = { var = GetDPRKEconomicReform value = 1 }
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	PRK_enable_jangmadang = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			NOT = { has_country_leader_with_trait = kim_jong_ils_puppet } #Kim Yong-nam don't use
		}

		visible = {
		}

		custom_cost_trigger = {
			check_variable = { GetDPRKDollarPoint > 1 }
			#check_variable = { GetDPRKEconomicReform > 1 }
		}

		custom_cost_text = DPRKDollor_Cost_2
		
		fire_only_once = yes

		days_remove = 120
		
		complete_effect = {
			ROOT = { add_to_variable = { var = GetDPRKDollarPoint value = -2 } }
		}
		
		remove_effect = {
			custom_effect_tooltip = PRK_economic_reform_tt
			add_to_variable = { var = GetDPRKEconomicReform value = 1 }
			add_offsite_building = { type = industrial_complex level = 2 }
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	PRK_as_a_modern_country = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			PRK_end_national_bankruptcy = yes
			industrial_complex > 11 #12
			custom_trigger_tooltip = {
				tooltip = PRK_economic_reform_how_tt
			}
		}

		visible = {
		}

		custom_cost_trigger = {
			check_variable = { GetDPRKEconomicReform > 2 }
		}

		cost = 0
		
		fire_only_once = yes

		days_remove = 180
		
		complete_effect = {
			
		}
		
		remove_effect = {
			set_country_flag = PRK_economic_reform_end_flag
			custom_effect_tooltip = PRK_economic_reform_end_tt
			remove_ideas = PRK_tiny_economic
			if = {
				limit = {  has_idea = national_development_developing  }
				swap_ideas = {
					remove_idea = national_development_developing
					add_idea = national_development_developed
				}
			}
			if = {
				limit = {  has_idea = national_development_undeveloped  }
				swap_ideas = {
					remove_idea = national_development_undeveloped
					add_idea = national_development_developed
				}
			}
		}

		ai_will_do = {
			factor = 100
		}
	}
}

PRK_democratic_rev_decisions = {


	PRK_plot_was_discovered = {

		priority = 99

		icon = generic_ignite_civil_war

		available = {
			hidden_trigger = { always = no }
		}

		days_mission_timeout = 120

		fire_only_once = yes

		activation = {
			has_completed_focus = prk_lyuh_woon_hyung_s_unfulfilled_dream
			has_country_flag = PRK_democratic_rev_flag
			NOT = { has_global_flag = dpr_korean_civil_war }
		}

		visible = {
			tag = PRK
			has_completed_focus = prk_lyuh_woon_hyung_s_unfulfilled_dream
			has_country_flag = PRK_democratic_rev_flag
			NOT = { has_global_flag = dpr_korean_civil_war }
			
		}

		cancel_if_not_visible = yes

		is_good = no

		timeout_effect = {
			PRK = { country_event = north_korea_civil_war.2 }
		}
	}

	PRK_gain_time = {

		priority = 10

		icon = generic_ignite_civil_war

		available = {
			has_completed_focus = prk_great_reversal
		}

		visible = {
			tag = PRK
			has_completed_focus = prk_lyuh_woon_hyung_s_unfulfilled_dream
			has_country_flag = PRK_democratic_rev_flag
			NOT = { has_global_flag = dpr_korean_civil_war }
		}
		
		ai_will_do = {
			base = 800
		}
		
		days_remove = 7

		fire_only_once = no

		days_re_enable = 14
		
		cost = 50 #@DPRK_GainTime_Cost

		remove_effect = {
			add_days_mission_timeout = {
				mission = PRK_plot_was_discovered
				days = 21
			}
			#ROOT = { add_to_variable = { var = DPRK_GainTime_Cost value = 25 } }
		}
	}
	
	PRK_gun_smuggling = {
		icon = generic_ignite_civil_war

		available = {
			has_completed_focus = prk_arms_smuggling
			has_equipment = { infantry_equipment > 999 }
		}

		visible = {
			has_completed_focus = prk_arms_smuggling
			NOT = { has_global_flag = dpr_korean_civil_war }
		}
		
		ai_will_do = {
			base = 500
		}

		fire_only_once = no

		days_re_enable = 21
		
		cost = 0

		complete_effect = {
			custom_effect_tooltip = PRK_gun_smuggling_tt
			army_experience = 3
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
			add_to_variable = { PRK_hide_equipment_var = 1000 }
		}
	}
	
	PRK_find_sympathizer = {

		icon = generic_ignite_civil_war

		available = {
			has_completed_focus = prk_gather_revolutionaries
			#command_power > 19
		}

		visible = {
			has_completed_focus = prk_gather_revolutionaries
			NOT = { has_global_flag = dpr_korean_civil_war }
		}
		
		ai_will_do = {
			base = 500
		}
		
		days_remove = 14

		fire_only_once = no

		days_re_enable = 7
		
		cost = 15

		remove_effect = {
			#add_command_power = -20
			random_unit_leader = {
				limit = {
					NOT = { has_trait = trait_PRK_paektu_bloodline }
					NOT = { has_trait = trait_PRK_democracy_rev }
				}
				add_unit_leader_trait = trait_PRK_democracy_rev
			}
		}
	}
	
	PRK_help_republic_of_korea = {

		icon = generic_ignite_civil_war

		available = {
			has_completed_focus = prk_seeking_foreign_cooperation
			NOT = { has_War_with = KOR }
		}

		visible = {
			has_completed_focus = prk_seeking_foreign_cooperation
			NOT = { has_global_flag = dpr_korean_civil_war }
		}
		
		ai_will_do = {
			base = 500
		}

		fire_only_once = yes
		
		cost = 15

		complete_effect = {
			KOR = { country_event = north_korea_civil_war.7 }
		}
	}
	
	PRK_help_china = {

		icon = generic_ignite_civil_war

		available = {
			has_completed_focus = prk_seeking_foreign_cooperation
			NOT = { has_War_with = PRC }
		}

		visible = {
			has_completed_focus = prk_seeking_foreign_cooperation
			NOT = { has_global_flag = dpr_korean_civil_war }
		}
		
		ai_will_do = {
			base = 500
		}

		fire_only_once = yes
		
		cost = 15

		complete_effect = {
			PRC = { country_event = north_korea_civil_war.7 }
		}
	}
	
	PRK_help_japan = {

		icon = generic_ignite_civil_war

		available = {
			has_completed_focus = prk_seeking_foreign_cooperation
			NOT = { has_War_with = JAP }
		}

		visible = {
			has_completed_focus = prk_seeking_foreign_cooperation
			NOT = { has_global_flag = dpr_korean_civil_war }
		}
		
		ai_will_do = {
			base = 500
		}

		fire_only_once = yes
		
		cost = 15

		complete_effect = {
			JAP = { country_event = north_korea_civil_war.7 }
		}
	}
	
	PRK_help_usa = {

		icon = generic_ignite_civil_war

		available = {
			has_completed_focus = prk_seeking_foreign_cooperation
			NOT = { has_War_with = USA }
		}

		visible = {
			has_completed_focus = prk_seeking_foreign_cooperation
			NOT = { has_global_flag = dpr_korean_civil_war }
		}
		
		ai_will_do = {
			base = 500
		}

		fire_only_once = yes
		
		cost = 15

		complete_effect = {
			USA = { country_event = north_korea_civil_war.7 }
		}
	}
	
	PRK_help_russia = {

		icon = generic_ignite_civil_war

		available = {
			has_completed_focus = prk_seeking_foreign_cooperation
			NOT = { has_War_with = SOV }
		}

		visible = {
			has_completed_focus = prk_seeking_foreign_cooperation
			NOT = { has_global_flag = dpr_korean_civil_war }
		}
		
		ai_will_do = {
			base = 500
		}

		fire_only_once = yes
		
		cost = 15

		complete_effect = {
			SOV = { country_event = north_korea_civil_war.7 }
		}
	}
}


PRK_power_struggle = {

	PRK_the_consequences_of_the_power_struggle = {

		priority = 99

		icon = generic_ignite_civil_war

		available = {
			hidden_trigger = { always = no }
		}

		days_mission_timeout = 360

		fire_only_once = yes

		activation = {
			has_country_flag = prk_kim_and_hyon
		}

		visible = {
			has_country_flag = prk_kim_and_hyon
		}

		cancel_if_not_visible = yes

		#is_good = no

		timeout_effect = {
			if = {
				limit = { 
					check_variable = { GetPRKConservativesInfluence > GetPRKRefmormersInfluence } 
				}
				ROOT = { country_event = north_korea.16 } #Win Kim Jong-il
			}
			else_if = {
				limit = { 
					check_variable = { GetPRKConservativesInfluence < GetPRKRefmormersInfluence } 
				}
				ROOT = { country_event = north_korea.17 } #Win Hyon Yong-chol
			}
			else_if = {
				limit = { 
					AND = {
						check_variable = { GetPRKConservativesInfluence = GetPRKRefmormersInfluence } 
						check_variable = { GetPRKTechnocratsPoliticalChoice > 0 } #Support Kim Jong-il
					}
				}
				ROOT = { country_event = north_korea.16 } #Win Kim Jong-il
			}
			else_if = {
				limit = { 
					AND = {
						check_variable = { GetPRKConservativesInfluence = GetPRKRefmormersInfluence } 
						check_variable = { GetPRKTechnocratsPoliticalChoice < 0 } #Support Hyon Yong-chol
					}
				}
				ROOT = { country_event = north_korea.17 } #Win Hyon Yong-chol
			}
			else = {
				ROOT = { country_event = north_korea.16 } #Win Kim Jong-il
			}
		}
	}
	
	PRK_power_struggle_debug = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			always = yes
		}

		visible = {
			is_debug = yes #DEBUG
		}

		cost = 0
		fire_only_once = no

		priority = 10
				
		complete_effect = {
			custom_effect_tooltip = DEBUG
			add_political_power = 9999 #DECISION DEBUG
		}

		ai_will_do = {
			factor = 0
		}
	}
	
	PRK_going_to_visit_kuhonamu = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			always = yes
		}

		visible = {
			has_country_flag = PRK_follow_kim_jong_il
		}

		cost = 25
		fire_only_once = no
				
		days_remove = 56
		
		remove_effect = {
			ROOT = { add_to_variable = { var = GetPRKConservativesInfluence value = 1 } }
			custom_effect_tooltip = GetPRKConservativesInfluence_1_tt
		}
		
		ai_will_do = {
			factor = 1
		}
	}

	PRK_chinese_cultural_censorship = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			always = yes
		}

		visible = {
			has_country_flag = PRK_follow_kim_jong_il
		}

		cost = 25
		fire_only_once = no
				
		days_remove = 56
		
		remove_effect = {
			ROOT = { add_to_variable = { var = GetPRKConservativesInfluence value = 1 } }
			custom_effect_tooltip = GetPRKConservativesInfluence_1_tt
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	PRK_attracting_moderates_to_the_jucheists = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			always = yes
		}

		visible = {
			has_country_flag = PRK_follow_kim_jong_il
		}

		cost = 25
		fire_only_once = no
				
		days_remove = 56
		
		remove_effect = {
			ROOT = { add_to_variable = { var = GetPRKConservativesInfluence value = 1 } }
			custom_effect_tooltip = GetPRKConservativesInfluence_1_tt
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	PRK_attracting_technocrats_to_the_jucheists = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			always = yes
		}

		visible = {
			has_country_flag = PRK_follow_kim_jong_il
		}

		cost = 25
		fire_only_once = no
				
		days_remove = 56
		
		remove_effect = {
			ROOT = { add_to_variable = { var = GetPRKTechnocratsPoliticalChoice value = 1 } }
			custom_effect_tooltip = GetPRKTechnocratsKim_1_tt
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	
	
	
	
	
	
	PRK_capitalist_movie_screening = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			always = yes
		}

		visible = {
			has_country_flag = PRK_follow_hyon_yong_chol
		}

		cost = 25
		fire_only_once = no
				
		days_remove = 56
		
		remove_effect = {
			ROOT = { add_to_variable = { var = GetPRKRefmormersInfluence value = 1 } }
			custom_effect_tooltip = GetPRKRefmormersnfluence_1_tt
		}

		ai_will_do = {
			factor = 1
		}
	}

	PRK_spreading_chinese_culture = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			always = yes
		}

		visible = {
			has_country_flag = PRK_follow_hyon_yong_chol
			
		}

		cost = 25
		fire_only_once = no
				
		days_remove = 56
		
		remove_effect = {
			ROOT = { add_to_variable = { var = GetPRKRefmormersInfluence value = 1 } }
			custom_effect_tooltip = GetPRKRefmormersnfluence_1_tt
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	PRK_attracting_moderates_to_the_refmormers = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			always = yes
		}

		visible = {
			has_country_flag = PRK_follow_hyon_yong_chol
			
		}

		cost = 25
		fire_only_once = no
				
		days_remove = 56
		
		remove_effect = {
			ROOT = { add_to_variable = { var = GetPRKRefmormersInfluence value = 1 } }
			custom_effect_tooltip = GetPRKRefmormersnfluence_1_tt
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	PRK_attracting_technocrats_to_the_refmormers = {
		icon = generic_agreement

		#allowed = { always = yes }
		
		available = {
			always = yes
		}

		visible = {
			has_country_flag = PRK_follow_hyon_yong_chol
			
		}

		cost = 25
		fire_only_once = no
				
		days_remove = 56
		
		remove_effect = {
			ROOT = { add_to_variable = { var = GetPRKTechnocratsPoliticalChoice value = -1 } }
			custom_effect_tooltip = GetPRKTechnocratsHyon_1_tt
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	PRK_reformers_gaining_influence = {

		icon = generic_ignite_civil_war

		available = {
			hidden_trigger = { always = no }
		}

		days_mission_timeout = 50

		fire_only_once = no

		activation = {
			has_country_flag = PRK_follow_kim_jong_il
		}

		visible = {
			has_country_flag = prk_kim_and_hyon
		}

		cancel_if_not_visible = yes

		is_good = no

		timeout_effect = {
			random_list = {
				50 = {
					ROOT = { add_to_variable = { var = GetPRKRefmormersInfluence value = 1 } }
					custom_effect_tooltip = GetPRKRefmormersnfluence_1_tt
				}
				30 = {
					ROOT = { add_to_variable = { var = GetPRKRefmormersInfluence value = 2 } }
					custom_effect_tooltip = GetPRKRefmormersnfluence_2_tt
				}
				20 = {
					ROOT = { add_to_variable = { var = GetPRKRefmormersInfluence value = 2 } }
					custom_effect_tooltip = GetPRKRefmormersnfluence_2_tt
					ROOT = { add_to_variable = { var = GetPRKConservativesInfluence value = -2 } }
					custom_effect_tooltip = GetPRKConservativesInfluencePenalty_2_tt
				}
			}
		}
	}
	
	PRK_conservatives_gaining_influence = {

		icon = generic_ignite_civil_war

		available = {
			hidden_trigger = { always = no }
		}

		days_mission_timeout = 50

		fire_only_once = no

		activation = {
			has_country_flag = PRK_follow_hyon_yong_chol
		}

		visible = {
			has_country_flag = prk_kim_and_hyon
		}

		cancel_if_not_visible = yes

		is_good = no

		timeout_effect = {
			random_list = {
				50 = {
					ROOT = { add_to_variable = { var = GetPRKConservativesInfluence value = 1 } }
					custom_effect_tooltip = GetPRKConservativesInfluence_1_tt
				}
				30 = {
					ROOT = { add_to_variable = { var = GetPRKConservativesInfluence value = 2 } }
					custom_effect_tooltip = GetPRKConservativesInfluence_2_tt
				}
				20 = {
					ROOT = { add_to_variable = { var = GetPRKConservativesInfluence value = 2 } }
					custom_effect_tooltip = GetPRKConservativesInfluence_2_tt
					ROOT = { add_to_variable = { var = GetPRKRefmormersInfluence value = -2 } }
					custom_effect_tooltip = GetPRKRefmormersInfluencePenalty_2_tt
				}
			}
		}
	}
	
	PRK_reformers_negotiating_with_technocrats = {

		icon = generic_ignite_civil_war

		available = {
			hidden_trigger = { always = no }
		}

		days_mission_timeout = 56
		days_re_enable = 14

		fire_only_once = no

		activation = {
			AND = {
				has_country_flag = PRK_follow_kim_jong_il
				check_variable = { GetPRKTechnocratsPoliticalChoice > -3 }
			}
		}

		visible = {
			has_country_flag = prk_kim_and_hyon
		}

		cancel_if_not_visible = yes

		is_good = no

		timeout_effect = {
			random_list = {
				50 = {
					ROOT = { add_to_variable = { var = GetPRKTechnocratsPoliticalChoice value = -1 } }
					custom_effect_tooltip = GetPRKTechnocratsHyon_1_tt
				}
				50 = {
					ROOT = { add_to_variable = { var = GetPRKTechnocratsPoliticalChoice value = -2 } }
					custom_effect_tooltip = GetPRKTechnocratsHyon_2_tt
				}
			}
		}
	}
	
	PRK_conservatives_negotiating_with_technocrats = {

		icon = generic_ignite_civil_war

		available = {
			hidden_trigger = { always = no }
		}

		days_mission_timeout = 56
		days_re_enable = 14

		fire_only_once = no

		activation = {
			AND = {
				has_country_flag = PRK_follow_hyon_yong_chol
				check_variable = { GetPRKTechnocratsPoliticalChoice < 3 }
			}
		}

		visible = {
			has_country_flag = prk_kim_and_hyon
		}

		cancel_if_not_visible = yes

		is_good = no

		timeout_effect = {
			random_list = {
				50 = {
					ROOT = { add_to_variable = { var = GetPRKTechnocratsPoliticalChoice value = 1 } }
					custom_effect_tooltip = GetPRKTechnocratsKim_1_tt
				}
				50 = {
					ROOT = { add_to_variable = { var = GetPRKTechnocratsPoliticalChoice value = 2 } }
					custom_effect_tooltip = GetPRKTechnocratsKim_2_tt
				}
			}
		}
	}
	
	PRK_political_support_of_the_technocrats = {

		icon = generic_ignite_civil_war

		available = {
			hidden_trigger = { always = no }
		}

		days_mission_timeout = 75

		fire_only_once = no

		activation = {
			has_country_flag = prk_kim_and_hyon
		}

		visible = {
			AND = {
				has_country_flag = prk_kim_and_hyon
				NOT = { check_variable = { GetPRKTechnocratsPoliticalChoice = 0 } } 
			}
		}

		cancel_if_not_visible = yes

		is_good = no

		timeout_effect = {
			if = {
				limit = { 
					check_variable = { GetPRKTechnocratsPoliticalChoice > 0 } 
				}
				ROOT = { add_to_variable = { var = GetPRKRefmormersInfluence value = -2 } }
				custom_effect_tooltip = GetPRKRefmormersInfluencePenalty_2_tt
			}
			else = {
				ROOT = { add_to_variable = { var = GetPRKConservativesInfluence value = -2 } }
				custom_effect_tooltip = GetPRKConservativesInfluencePenalty_2_tt
			}
		}
	}
}


PRK_2nd_korean_war = {

	PRK_food_requisition = {
		icon = generic_oppression
		
		fire_only_once = no

		available = {
			command_power > 9
		}

		cost = 0
		
		days_remove = 120
		days_re_enable = 30
		
		complete_effect = {
			add_command_power = -10
			add_ideas = PRK_food_requisition_idea
		}
		
		remove_effect = {
			remove_ideas = PRK_food_requisition_idea
		}

		ai_will_do = {
			base = 200
		}
	}

	PRK_seoul_fire_sea = {
		icon = generic_oppression
		
		fire_only_once = yes

		available = {
			command_power > 9
		}
		
		cost = 0
		is_good = yes
		
		available = {
			divisions_in_state = { state = 947 size > 5 }
		}
		
		highlight_states = {
			highlight_state_targets = {
			state = 947
			state = 525
			}
		}
		
		complete_effect = {
			KOR = { country_event = { id = korean_war.5 } }
			add_command_power = -10
			525 = {
				damage_building = {
				    type = infrastructure
				    damage = 4
				}
				damage_building = {
				    type = industrial_complex
				    damage = 4
				}
				damage_building = {
				    type = arms_factory
				    damage = 4
				}
			}
		}

		ai_will_do = {
			factor = 0
			modifier = {
				add = 200
				divisions_in_state = {
					state = 947	
					size > 5
				}
			}
		}
	}

	PRK_gas_of_death = {
		icon = generic_oppression
		
		fire_only_once = no

		available = {
			command_power > 19
		}
		
		cost = 0
		
		days_remove = 120
		days_re_enable = 30
		
		complete_effect = {
			add_command_power = -20
			add_ideas = PRK_gas_of_death_idea
		}
		
		remove_effect = {
			remove_ideas = PRK_gas_of_death_idea
		}

		ai_will_do = {
			base = 200
		}
	}
	
	PRK_attack_order = {
		icon = generic_operation
		
		fire_only_once = yes

		available = {
			command_power > 49
			has_war_with = KOR
		}
		
		cost = 0
		
		days_remove = 180
		
		complete_effect = {
			add_command_power = -50
		}
		
		targeted_modifier = {
			tag = KOR
			attack_bonus_against = 0.1
			defense_bonus_against = 0.1
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	PRK_pro_north_korean_agitation = {
		icon = generic_operation
		
		fire_only_once = yes
		
		cost = 30
		
		days_remove = 30
		
		remove_effect = {
			set_country_flag = prk_pro_north_korean_revolt
		}
		

		ai_will_do = {
			factor = 1
		}
	}
	
	PRK_pro_north_korean_gyeonggi = {
		icon = generic_prepare_civil_war
		
		available = {
			command_power > 24
			not = {
				has_decision = PRK_pro_north_korean_chungcheong
				has_decision = PRK_pro_north_korean_jeolla
				has_decision = PRK_pro_north_korean_gyeongsang
				has_decision = PRK_pro_north_korean_gangwon
			}
		}
		
		visible = {
			has_country_flag = prk_pro_north_korean_revolt
		}
		
		cost = 0
		days_remove = 30
		
		#modifier = {
		#	command_power_gain = -0.1
		#}
		
		highlight_states = {
			highlight_state_targets = {
			state = 525
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			add_command_power = -25
		}
			
		remove_effect = {
			custom_effect_tooltip = PRK_NL_Riot_tt
			hidden_effect = {
				load_oob = PRK_Seoul_revolt
			}
		}
	}
	
	PRK_pro_north_korean_chungcheong = {
		icon = generic_prepare_civil_war
		
		available = {
			command_power > 14
			not = {
				has_decision = PRK_pro_north_korean_gyeonggi
				has_decision = PRK_pro_north_korean_jeolla
				has_decision = PRK_pro_north_korean_gyeongsang
				has_decision = PRK_pro_north_korean_gangwon
			}
		}
		
		visible = {
			has_country_flag = prk_pro_north_korean_revolt
		}
		
		cost = 0
		days_remove = 30
		
		#modifier = {
		#	command_power_gain = -0.1
		#}
		
		highlight_states = {
			highlight_state_targets = {
			state = 945
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			add_command_power = -15
		}
			
		remove_effect = {
			custom_effect_tooltip = PRK_NL_Riot_tt
			hidden_effect = {
				load_oob = PRK_Chungcheong_revolt
			}
		}
	}
	
	PRK_pro_north_korean_jeolla = {
		icon = generic_prepare_civil_war
		
		available = {
			command_power > 14
			not = {
				has_decision = PRK_pro_north_korean_gyeonggi
				has_decision = PRK_pro_north_korean_chungcheong
				has_decision = PRK_pro_north_korean_gyeongsang
				has_decision = PRK_pro_north_korean_gangwon
			}
		}
		
		visible = {
			has_country_flag = prk_pro_north_korean_revolt
		}
		
		cost = 0
		days_remove = 30
		
		#modifier = {
		#	command_power_gain = -0.1
		#}
		
		highlight_states = {
			highlight_state_targets = {
			state = 869
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			add_command_power = -15
		}
			
		remove_effect = {
			custom_effect_tooltip = PRK_NL_Riot_tt
			hidden_effect = {
				load_oob = PRK_Honam_revolt
			}
		}
	}
	
	PRK_pro_north_korean_gyeongsang = {
		icon = generic_prepare_civil_war
		
		available = {
			command_power > 14
			not = {
				has_decision = PRK_pro_north_korean_gyeonggi
				has_decision = PRK_pro_north_korean_jeolla
				has_decision = PRK_pro_north_korean_chungcheong
				has_decision = PRK_pro_north_korean_gangwon
			}
		}
		
		visible = {
			has_country_flag = prk_pro_north_korean_revolt
		}
		
		cost = 0
		days_remove = 30
		
		#modifier = {
		#	command_power_gain = -0.1
		#}
		
		highlight_states = {
			highlight_state_targets = {
			state = 870
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			add_command_power = -15
		}
			
		remove_effect = {
			custom_effect_tooltip = PRK_NL_Riot_tt
			hidden_effect = {
				load_oob = PRK_Yeongnam_revolt
			}
		}
	}
	
	PRK_pro_north_korean_gangwon = {
		icon = generic_prepare_civil_war
		
		available = {
			command_power > 14
			not = {
				has_decision = PRK_pro_north_korean_gyeonggi
				has_decision = PRK_pro_north_korean_jeolla
				has_decision = PRK_pro_north_korean_gyeongsang
				has_decision = PRK_pro_north_korean_chungcheong 
			}
		}
		
		visible = {
			has_country_flag = prk_pro_north_korean_revolt
		}
		
		cost = 0
		days_remove = 30
		
		#modifier = {
		#	command_power_gain = -0.1
		#}
		
		highlight_states = {
			highlight_state_targets = {
			state = 871
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 200
		}
		
		complete_effect = {
			add_command_power = -15
		}
			
		remove_effect = {
			custom_effect_tooltip = PRK_NL_Riot_tt
			hidden_effect = {
				load_oob = PRK_Gangwon_revolt
			}
		}
	}
}

PRK_low_intensity_dispute_categories = {
	
	PRK_taepodong_2 = {
		icon = generic_operation
		
		available = {
			not = {
				has_decision = PRK_bombardment_of_yeonpyeong
				has_decision = PRK_put_submarine_into_their_sea
			}
		}
		
		fire_only_once = yes
		
		cost = 30
		
		days_remove = 180
		
		remove_effect = {
			add_tech_bonus = {
				bonus = 3.0
				uses = 2
				category = rocketry
			}
			hidden_effect = {
				news_event = { id = north_korea_news.12 }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	PRK_bombardment_of_yeonpyeong = {
		icon = generic_operation
		
		available = {
			command_power > 29
			not = {
				has_decision = PRK_taepodong_2
				has_decision = PRK_put_submarine_into_their_sea
			}
		}
		
		fire_only_once = yes
		
		cost = 0
		
		days_remove = 21
		
		complete_effect = {
			add_command_power = -30
		}
		
		remove_effect = {
			KOR = { country_event = { id = north_korea.42 } }
			add_tech_bonus = {
				name = arty_bonus
				bonus = 2.0
				uses = 1
				category = artillery
			}
		}
		
		ai_will_do = {
			factor = 0
			modifier = {
				date > 2010.06.01
				add = 5
			}
		}
	}
	
	PRK_put_submarine_into_their_sea = {
		icon = generic_operation
		
		available = {
			command_power > 29
			not = {
				has_decision = PRK_taepodong_2
				has_decision = PRK_bombardment_of_yeonpyeong
			}
			ships_in_area = { # Yellow Sea
				type = submarine
				area = 77
				size > 0
			}
		}
		
		fire_only_once = yes
		
		cost = 0
		
		days_remove = 21
		
		complete_effect = {
			add_command_power = -30
		}
		
		remove_effect = {
			random_list = {
				20 = {
					country_event = { id = north_korea.46 }
				}
				80 = {
					country_event = { id = north_korea.47 }
				}
			}
		}
		
		ai_will_do = {
			factor = 0
			modifier = {
				date > 2010.01.01
				add = 5
			}
		}
	}

}

PRK_hanto_wo_deyo_categories = {

	PRK_operation_murakami = {
		icon = generic_operation
		
		available = {
			check_variable = { HantoWoDeyo_PRK > 99 }
			NOT = { has_global_flag = fail_hanto_wo_deyo }
		}
		
		fire_only_once = yes
		
		cost = 0
		
		complete_effect = {
			set_global_flag = successful_hanto_wo_deyo
			country_event = { id = north_korea.53 }
		}
		
		ai_will_do = {
			factor = 100
		}
	}
	
	PRK_secret_infiltration = {
		icon = generic_operation
		
		available = {
			command_power > 19
		}
		
		fire_only_once = no
		
		cost = 0
		
		days_remove = 21
		
		complete_effect = {
			add_command_power = -20
		}
		
		remove_effect = {
			custom_effect_tooltip = PRK_hanto_wo_deyo_tt
			hidden_effect = {
			random_list = {
				20 = {
					add_to_variable = { var = HantoWoDeyo_PRK value = 7 }
				}
				20 = {
					add_to_variable = { var = HantoWoDeyo_PRK value = 9 }
				}
				60 = {
					add_to_variable = { var = HantoWoDeyo_PRK value = 5 }
				}
			}
			}
		}
		
		ai_will_do = {
			factor = 100
		}
	}


	PRK_equipment_preparation = {
		icon = generic_operation
		
		available = {
			has_manpower > 999
			has_equipment = { support_equipment > 199 }
			has_equipment = { infantry_equipment > 799 }
		}
		
		fire_only_once = no
		
		cost = 0
		
		days_remove = 21
		
		complete_effect = {
			add_manpower = -1000
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -200
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -800
			}
		}
		
		remove_effect = {
			custom_effect_tooltip = PRK_hanto_wo_deyo_tt
			hidden_effect = {
			random_list = {
				20 = {
					add_to_variable = { var = HantoWoDeyo_PRK value = 8 }
				}
				20 = {
					add_to_variable = { var = HantoWoDeyo_PRK value = 7 }
				}
				60 = {
					add_to_variable = { var = HantoWoDeyo_PRK value = 5 }
				}
			}
			}
		}
		
		ai_will_do = {
			factor = 100
		}
	}

	PRK_fake_news_spreading = {
		icon = generic_operation
		
		available = {
		
		}
		
		fire_only_once = no
		
		cost = 30
		
		days_remove = 21
		
		complete_effect = {
		}
		
		remove_effect = {
			custom_effect_tooltip = PRK_hanto_wo_deyo_tt
			hidden_effect = {
			random_list = {
				20 = {
					add_to_variable = { var = HantoWoDeyo_PRK value = 6 }
				}
				20 = {
					add_to_variable = { var = HantoWoDeyo_PRK value = 7 }
				}
				60 = {
					add_to_variable = { var = HantoWoDeyo_PRK value = 5 }
				}
			}
			}
		}
		
		ai_will_do = {
			factor = 100
		}
	}
}

JAP_hanto_wo_deyo_categories = {

	JAP_case_close = {
		icon = generic_operation
		
		available = {
			check_variable = { HantoWoDeyo_JAP > 99 }
			NOT = { has_global_flag = successful_hanto_wo_deyo }
		}
		
		fire_only_once = yes
		
		cost = 0
		
		complete_effect = {
			set_global_flag = fail_hanto_wo_deyo
			country_event = { id = north_korea.58 }
		}
		
		ai_will_do = {
			factor = 100
		}
	}
	
	JAP_wiretapping_of_phone_calls = {
		icon = generic_operation
		
		available = {
			command_power > 19
		}
		
		fire_only_once = no
		
		cost = 0
		
		days_remove = 21
		
		complete_effect = {
			add_command_power = -20
		}
		
		remove_effect = {
			custom_effect_tooltip = JAP_hanto_wo_deyo_tt
			
			hidden_effect = {
			random_list = {
				20 = {
					add_to_variable = { var = HantoWoDeyo_JAP value = 7 }
				}
				20 = {
					add_to_variable = { var = HantoWoDeyo_JAP value = 9 }
				}
				60 = {
					add_to_variable = { var = HantoWoDeyo_JAP value = 5 }
				}
			}
			}
		}
		
		ai_will_do = {
			factor = 5
		}
	}


	JAP_bribe_to_donju = {
		icon = generic_operation
		
		fire_only_once = no
		
		cost = 20
		
		days_remove = 21
		
		remove_effect = {
			custom_effect_tooltip = JAP_hanto_wo_deyo_tt
			
			hidden_effect = {
			random_list = {
				20 = {
					add_to_variable = { var = HantoWoDeyo_JAP value = 7 }
				}
				20 = {
					add_to_variable = { var = HantoWoDeyo_JAP value = 9 }
				}
				60 = {
					add_to_variable = { var = HantoWoDeyo_JAP value = 5 }
				}
			}
			}
		}
		
		ai_will_do = {
			factor = 5
		}
	}

	JAP_investigation_support = {
		icon = generic_operation
		
		available = {
		
		}
		
		fire_only_once = no
		
		cost = 30
		
		days_remove = 30
		
		complete_effect = {
		}
		
		remove_effect = {
			custom_effect_tooltip = JAP_hanto_wo_deyo_tt
			
			hidden_effect = {
			random_list = {
				20 = {
					add_to_variable = { var = HantoWoDeyo_JAP value = 9 }
				}
				20 = {
					add_to_variable = { var = HantoWoDeyo_JAP value = 10 }
				}
				60 = {
					add_to_variable = { var = HantoWoDeyo_JAP value = 11 }
				}
			}
			}
		}
		
		ai_will_do = {
			factor = 5
		}
	}
}