on_actions = {

	on_startup = {
		effect = {
			KOR = {
				if = {
					limit = {
						OR = {
							has_game_rule = {
								rule = KOR_AI_BEHAVIOR
								option = COMMUNIST_KOR
							}
							has_game_rule = {
								rule = KOR_AI_BEHAVIOR
								option = ANARCHIST_KOR
							}
							has_game_rule = {
								rule = KOR_AI_BEHAVIOR
								option = FAR_RIGHT_KOR
							}
						}
						KOR = { is_ai = yes } 
					}
					add_to_variable = { var = KORRegimeStability value = -100 }
				}
			}
		}
		
		effect = {
			KOR = {
				if = {
					limit = {
						OR = {
							has_game_rule = {
								rule = KOR_AI_BEHAVIOR
								option = RANDOM
							}
							AND = {
								is_historical_focus_on = no
								has_game_rule = {
									rule = KOR_AI_BEHAVIOR
									option = DEFAULT
								}
							}
						}
						KOR = { is_ai = yes } 
					}
					random_list = {
						50 = {
							set_country_flag = kor_non_democratic
						}
						50 = {
							
						}
					}
				}
			}
		}
		
		effect = {
			KOR = {
				SAMPLE_generate_random_party_seats = yes
				KOR_loyalty_setting_effect = yes
				KOR_parties_support_setting_effect = yes
				korean_init_parliament = yes
			}
		}
	}
	
	on_new_term_election = {
		random_events = {
			100 = korea_election.1
			100 = korea_election.2
			100 = korea_election.3
			100 = korea_election.4
			100 = korea_election.5
		}
	}
	
	on_startup_KOR = {
		effect = {	
			SAMPLE_generate_random_party_seats = yes
			KOR_loyalty_setting_effect = yes
			KOR_parties_support_setting_effect = yes
			korean_init_parliament = yes
		}
	}
	
	on_weekly_KOR = {
		effect = {
	
			if = {
				limit = { 
					check_variable = { KOR_all_support_status_base > KOR_all_seats_status }
				}
				if = {
					limit = {
						check_variable = { KOR_fundamentalists_support_status > 0 }
					}
					add_to_variable = { var = KOR_fundamentalists_support_status value = -1 }
				}
				if = {
					limit = {
						check_variable = { KOR_reactionists_support_status > 0 }
					}
					add_to_variable = { var = KOR_reactionists_support_status value = -1 }
				}
				if = {
					limit = {
						check_variable = { KOR_neocon_support_status > 0 }
					}
					add_to_variable = { var = KOR_neocon_support_status value = -1 }
				}
				if = {
					limit = {
						check_variable = { KOR_conservatism_support_status > 0 }
					}
					add_to_variable = { var = KOR_conservatism_support_status value = -1 }
				}
				if = {
					limit = {
						check_variable = { KOR_social_liberalism_support_status > 0 }
					}
					add_to_variable = { var = KOR_social_liberalism_support_status value = -1 }
				}
				if = {
					limit = {
						check_variable = { KOR_democratic_socialism_support_status > 0 }
					}
					add_to_variable = { var = KOR_democratic_socialism_support_status value = -1 }
				}
				if = {
					limit = {
						check_variable = { KOR_centrist_support_status > 0 }
					}
					add_to_variable = { var = KOR_centrist_support_status value = -1 }
				}
				if = {
					limit = {
						check_variable = { KOR_social_democracy_support_status > 0 }
					}
					add_to_variable = { var = KOR_social_democracy_support_status value = -1 }
				}
				if = {
					limit = {
						check_variable = { KOR_NL_support_status > 0 }
					}
					add_to_variable = { var = KOR_NL_support_status value = -1 }
				}
				if = {
					limit = {
						check_variable = { KOR_feminism_support_status > 0 }
					}
					add_to_variable = { var = KOR_feminism_support_status value = -1 }
				}
			}
			else_if = {
				limit = { 
					check_variable = { KOR_all_support_status_base < KOR_all_seats_status }
				}
				random_list = {
					10 = {
						add_to_variable = { var = KOR_fundamentalists_support_status value = 1 }
					}
					10 = {
						add_to_variable = { var = KOR_reactionists_support_status value = 1 }
					}
					10 = {
						add_to_variable = { var = KOR_neocon_support_status value = 1 }
					}
					10 = {
						add_to_variable = { var = KOR_conservatism_support_status value = 1 }
					}
					10 = {
						add_to_variable = { var = KOR_social_liberalism_support_status value = 1 }
					}
					10 = {
						add_to_variable = { var = KOR_democratic_socialism_support_status value = 1 }
					}
					10 = {
						add_to_variable = { var = KOR_centrist_support_status value = 1 }
					}
					10 = {
						add_to_variable = { var = KOR_social_democracy_support_status value = 1 }
					}
					10 = {
						add_to_variable = { var = KOR_NL_support_status value = 1 }
					}
					10 = {
						add_to_variable = { var = KOR_feminism_support_status value = 1 }
					}
				}
			}
		}
	}
	
	on_monthly_KOR = {
		effect = {
			if = {
					limit = {
						NOT = { has_country_flag = kor_parliamentary_election_flag }
						date > 2001.1.1 
						has_election = yes
					}
					country_event = { id = korea_election.6 }
			}
		}
		effect = {
		if = {
				limit = {
					islamist > 0.2
					check_variable = { KOR_fundamentalists_support_status < 100 }
				}
				add_to_variable = { var = KOR_fundamentalists_support_status value = 20 }
		}
		if = {
				limit = {
					reactionary > 0.2
					check_variable = { KOR_reactionists_support_status < 100 }
				}
				add_to_variable = { var = KOR_reactionists_support_status value = 20 }
		}
		if = {
				limit = {
					market_liberal > 0.2
					check_variable = { KOR_neocon_support_status < 100 }
				}
				add_to_variable = { var = KOR_neocon_support_status value = 20 }
		}
		if = {
				limit = {
					conservative > 0.2
					check_variable = { KOR_conservatism_support_status < 100 }
				}
				add_to_variable = { var = KOR_conservatism_support_status value = 20 }
		}
		if = {
				limit = {
					social_liberal > 0.2
					check_variable = { KOR_social_liberalism_support_status < 100 }
				}
				add_to_variable = { var = KOR_social_liberalism_support_status value = 20 }
		}
		if = {
				limit = {
					democratic_socialist > 0.2
					check_variable = { KOR_democratic_socialism_support_status < 100 }
				}
				add_to_variable = { var = KOR_democratic_socialism_support_status value = 20 }
		}
		if = {
				limit = {
					social_democrat > 0.2
					check_variable = { KOR_social_democracy_support_status < 100 }
				}
				add_to_variable = { var = KOR_social_democracy_support_status value = 20 }
		}
		if = {
				limit = {
					nationalist > 0.2
					check_variable = { KOR_NL_support_status < 100 }
				}
				add_to_variable = { var = KOR_NL_support_status value = 20 }
		}
		if = {
				limit = {
					progressive > 0.2
					check_variable = { KOR_feminism_support_status < 100 }
				}
				add_to_variable = { var = KOR_feminism_support_status value = 20 }
		}
		if = {
				limit = {
					AND = {
						islamist < 0.4
						reactionary < 0.4
						market_liberal < 0.4
						conservative < 0.4
						social_liberal < 0.4
						democratic_socialist < 0.4
						social_democrat < 0.4
						nationalist < 0.4
						progressive < 0.4
					}
					check_variable = { KOR_centrist_support_status < 50 }
				}
				add_to_variable = { var = KOR_centrist_support_status value = 10 }
		}
		}
	}
	on_monthly_KOR = {
		effect = {
			randomize_variable = {
				var = KOR_bouns_support
				distribution = uniform
				min = -10
				max = 10
			}
			if = {
					limit = {
						islamist > 0
					}
					add_to_variable = { var = KOR_fundamentalists_support_status value = KOR_bouns_support }
			}
			randomize_variable = {
				var = KOR_bouns_support
				distribution = uniform
				min = -10
				max = 10
			}
			if = {
					limit = {
						reactionary > 0
					}
					add_to_variable = { var = KOR_reactionists_support_status value = KOR_bouns_support }
			}
			randomize_variable = {
				var = KOR_bouns_support
				distribution = uniform
				min = -10
				max = 10
			}
			if = {
					limit = {
						market_liberal > 0
					}
					add_to_variable = { var = KOR_neocon_support_status value = KOR_bouns_support }
			}
			randomize_variable = {
				var = KOR_bouns_support
				distribution = uniform
				min = -10
				max = 10
			}
			if = {
					limit = {
						conservative > 0
					}
					add_to_variable = { var = KOR_conservatism_support_status value = KOR_bouns_support }
			}
			randomize_variable = {
				var = KOR_bouns_support
				distribution = uniform
				min = -10
				max = 10
			}
			if = {
					limit = {
						social_liberal > 0
					}
					add_to_variable = { var = KOR_social_liberalism_support_status value = KOR_bouns_support }
			}
			randomize_variable = {
				var = KOR_bouns_support
				distribution = uniform
				min = -10
				max = 10
			}
			if = {
					limit = {
						democratic_socialist > 0
					}
					add_to_variable = { var = KOR_democratic_socialism_support_status value = KOR_bouns_support }
			}
			randomize_variable = {
				var = KOR_bouns_support
				distribution = uniform
				min = -10
				max = 10
			}
			if = {
					limit = {
						social_democrat > 0
					}
					add_to_variable = { var = KOR_social_democracy_support_status value = KOR_bouns_support }
			}
			randomize_variable = {
				var = KOR_bouns_support
				distribution = uniform
				min = -10
				max = 10
			}
			if = {
					limit = {
						nationalist > 0
					}
					add_to_variable = { var = KOR_NL_support_status value = KOR_bouns_support }
			}
			randomize_variable = {
				var = KOR_bouns_support
				distribution = uniform
				min = -10
				max = 10
			}
			if = {
					limit = {
						progressive > 0
					}
					add_to_variable = { var = KOR_feminism_support_status value = KOR_bouns_support }
			}
		}
	}
	
	on_war = {
		effect = {
			if = {
				limit = {
					original_tag = KOR
					has_war_with = PRK
				}
				news_event = { id = rok_news.21 }
			}
		}
	}
	
	on_capitulation = {
		effect = {
			if = {
				limit = {
					FROM = {	original_tag = KOR }
					ROOT = { original_tag = PRK }
				}
				KOR = { annex = PRK }
				
				if = {
					limit = {
						FROM = { has_completed_focus = kor_moon_chang_geuk_government }
					}
					news_event = { id = rok_news.20 }
				}
				else_if = {
					limit = {
						FROM = { has_completed_focus = kor_no_government }
					}
					news_event = { id = rok_news.19 }
				}
				else_if = {
					limit = {
						FROM = { has_completed_focus = kor_lee_seok_ki_government }
					}
					news_event = { id = rok_news.18 }
				}
				else = {
					news_event = { id = rok_news.17 }
				}
			}		
		}
	}	
	
	on_annex = {
		effect = {
			if = {
				limit = {
					ROOT = {	original_tag = KOR }
					FROM = { original_tag = PRK }
				}
				if = {
					limit = {
						ROOT = { has_completed_focus = kor_moon_chang_geuk_government }
					}
					news_event = { id = rok_news.20 }
				}
				else_if = {
					limit = {
						ROOT = { has_completed_focus = kor_no_government }
					}
					news_event = { id = rok_news.19 }
				}
				else_if = {
				limit = {
						ROOT = { has_completed_focus = kor_lee_seok_ki_government }
					}
					news_event = { id = rok_news.18 }
				}
				else = {
					news_event = { id = rok_news.17 }
				}
			}
		}
	}


}
